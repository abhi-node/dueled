# Dueled Game - Environment Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# DEVELOPMENT SETUP
# =============================================================================
# 1. Copy this file to .env
# 2. Start Docker services: npm run docker:start
# 3. Run development: npm run dev

# =============================================================================
# SERVER CONFIGURATION (for server/.env)
# =============================================================================

# Basic Server Configuration
PORT=3000
NODE_ENV=development
CLIENT_URL=http://localhost:5173

# Security Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars

# Database Configuration (PostgreSQL)
DATABASE_URL=postgresql://dueled_user:dueled_password@localhost:5433/dueled

# Redis Configuration
REDIS_URL=redis://localhost:6380

# CORS Configuration (optional)
# ADDITIONAL_CORS_ORIGINS=http://localhost:3000,http://localhost:5000

# =============================================================================
# CLIENT CONFIGURATION (for client/.env)
# =============================================================================

# API Configuration
VITE_API_URL=http://localhost:3000

# =============================================================================
# OPTIONAL ADVANCED CONFIGURATION
# =============================================================================

# WebSocket Configuration
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_CONNECTION_TIMEOUT=60000
MAX_PLAYERS_PER_MATCH=2

# Rate Limiting Configuration
RATE_LIMIT_WINDOW_MS=900000        # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100        # Global requests per window
API_RATE_LIMIT_WINDOW_MS=900000    # 15 minutes
API_RATE_LIMIT_MAX_REQUESTS=60     # API requests per window
HEALTH_RATE_LIMIT_WINDOW_MS=60000  # 1 minute
HEALTH_RATE_LIMIT_MAX_REQUESTS=10  # Health check requests per window

# Server Timeouts
REQUEST_TIMEOUT_MS=30000           # HTTP request timeout
HEALTH_CHECK_INTERVAL_MS=30000     # Health check interval

# Connection Policies
CONNECTION_HEARTBEAT_INTERVAL=30000
CONNECTION_TIMEOUT=60000
CONNECTION_GRACE_PERIOD=2000

# Game Configuration Multipliers
# COUNTDOWN_TIMEOUT_MULTIPLIER=1.5
# COUNTDOWN_GRACE_MULTIPLIER=2.0
# ACTIVE_GRACE_MULTIPLIER=1.5

# =============================================================================
# DEPLOYMENT NOTES
# =============================================================================
# 
# Production Deployment:
# - All these variables are automatically configured in render.yaml
# - JWT_SECRET is auto-generated securely
# - DATABASE_URL and REDIS_URL are auto-connected
# - CLIENT_URL is auto-configured to frontend URL
#
# Local Development:
# - Use Docker Compose: npm run docker:start
# - Database runs on port 5433 (to avoid conflicts)
# - Redis runs on port 6380 (to avoid conflicts)
#
# Security:
# - JWT_SECRET must be at least 32 characters in production
# - Database connections use SSL in production
# - Rate limiting is enforced on all endpoints